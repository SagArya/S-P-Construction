{% extends 'base.html' %}


{% block title %}Add {{ report_type }}{% endblock %}

{% block content %}
<div class="container mt-5">
    

    <form class="col-6 mx-auto card p-3 shadow-lg" method="post" action="{% url 'add_machinery_report' site_id=site.id %}" enctype="multipart/form-data">
        {% csrf_token %}
        <h2>Add Machinery Report</h2>
        <div class="form-group">
          <label for="date">Date and Time:</label>
          <input type="datetime-local" class="form-control" id="date" name="date" required>
        </div>

        <div class="form-group">
            <label for="machine_type">Machine Type:</label>
            <input type="text" class="form-control" id="machine_type" name="machine_type" required>
        </div>

        <div class="form-group">
            <label for="supplier_name">Supplier Name:</label>
            <input type="text" class="form-control" id="supplier_name" name="supplier_name" required>
        </div>

        <div class="form-group">
            <label for="registration_no">Registration No:</label>
            <input type="text" class="form-control" id="registration_no" name="registration_no" required>
        </div>

        <div class="form-group">
          <label for="start_time">Start Time:</label>
          <input type="datetime-local" class="form-control" id="start_time" name="start_time" required>
        </div>
      
        <div class="form-group">
            <label for="end_time">End Time:</label>
            <input type="datetime-local" class="form-control" id="end_time" name="end_time" required>
        </div>
    
        {% comment %} <div class="form-group">
            <label for="hours_worked">Hours Worked:</label>
            <input type="text" class="form-control" id="hours_worked" name="hours_worked" readonly>
        </div> {% endcomment %}

        <div class="form-group">
            <label for="challan_no">Challan No:</label>
            <input type="text" class="form-control" id="challan_no" name="challan_no" required>
        </div>

        <div class="form-group">
            <label for="remark">Remark:</label>
            <textarea class="form-control" id="remark" name="remark" rows="3" required></textarea>
        </div>

        <button type="submit" class="btn btn-primary">Add Machinery Report</button>
    </form>
    
</div>
<h3>Machinery Reports</h3>
  <table class="table table-hover">
    <thead>
      <tr>
        <th>Date</th>
        <th>Report Type</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for machinery_report in machinery_reports %}
        <tr>
          <td>{{ machinery_report.date }}</td>
          <td>Machinery Report</td>
          <td><a href="{% url 'view_machinery_report' report_id=machinery_report.id %}">View Details</a></td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

{% endblock %}